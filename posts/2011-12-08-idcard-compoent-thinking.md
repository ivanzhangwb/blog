---
date: 2011-12-07
layout: post
title: 组件工作的一些思考和总结
permalink: '/2011/idcard-component-thinking.html'
categories:
- Thinking
tags:
- Thinking
---


上周，我与另外以个同事一起开发一个会员名片的前端组件，现在一个星期过去了，  

从PD那边反馈来看，结果还不错，过后，我总结了一下，我自己从这个组件所学到的一些东西，
   
这里不谈技术细节，我主要想谈谈我从其中学到的什么叫真正的用户体验。  
<!-- more -->

一般来说，我们提供出一个组件，有2个问题是我们组件一定需要解决的（类似与服务化），否则组件没有任何意义。
  
1.   提供公共数据
2.   统一逻辑  

当然，今天我们需要讨论的不是上面的2点，而是要着重讨论一下，
  
组件，在满足基本功能的情况下，如何让其使用者更加好的使用它，  
或者说，除了基本的功能点之外，还有哪些地方是可以做得更好的。

下面是我想到的一些点： 
![组件的思考](http://farm8.staticflickr.com/7154/6477152207_972f0dfb35_b.jpg)

上面的图基本总结了这次组件所遇到的问题和我在其中的一些收获，下面拿几个比较典型的点来谈谈:  

### 组件在完成原来基本功能情况下， 需要提供一些灵活的可配置性 

比如图上的定位， 有为会员名片在旺铺布点中，就这一点，我们遇到了一些问题，典型的就有组件如何定位的问题。  

在组件开发阶段，我们预想的情况下，是一个页面应该只有一个名片的布点，如下，  

就在初始开发阶段， 默认让名片显示在 布点元素的右上方， 如下图： 
![ ](http://farm8.staticflickr.com/7019/6477152263_c97d60b66d_m.jpg)  

但是，在布点实施过程中，我们发现，这个想法完全行不通，结果，旺铺下面的布点情况如下图：  
![ ](http://farm8.staticflickr.com/7153/6477152317_70b4998b18.jpg)

对此，我们再次针对组件进行了一些优化工作，让布点方可以自己配置名片针对布点元素显示的具体位置。  

这样也就达到了一些组件的可配置性和灵活性。  


另外，通过这个名片的布点，我发现对于名片的触发时机也存在强迫用户的歧义，  

比如，我们常规的想法是命名需要用户点击某个元素后，才出现，  
但是事实上这个也是我们开发组件的固有思维， 一旦你的组件或其他公共的类库，  
你就不应该限制你的用户如何是使用他。
那样的话，就给用户极度的束缚感；其实，我们可以给定一个配置项，  
让布点方来设定，名片什么时候出现，通过什么事件来触发他。

### 考虑共有的组件或类库对业务的侵入和容错性  
除了这些细节外， 我们所提供出去的组件，还需要考虑下，组件布点后，是否会与原有页面或者业务点存在冲突？
  
要严格的对新的组件和现有业务点进行隔离， 比如，我们这次采用的措施： 

1.采用命名空间，隔离组件与原有页面的样式和js

2.利用特殊的前缀和后缀来进行组件内部元素的命名

3.组件内部做好容错，做到组件出问题，不对原有业务产生影响。

### 总结  


1.提供出去的组件或者类库，尝试先站在用户角度看一下，思考一下，他们会怎么用？ 是否我们把自己的思维固定了

2.组件是否足够灵活？ 他们用起来爽吗？

3.你的组件他们放心使用吗？ 万一出问题，会对他们造成影响吗？

